<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2071px" preserveAspectRatio="none" style="width:1939px;height:2071px;" version="1.1" viewBox="0 0 1939 2071" width="1939px" zoomAndPan="magnify"><defs><filter height="300%" id="fwdbm9yn6o0pk" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="556" x="689.75" y="22.9951">MSR Invites Member to connect via CULedger.Identity - Evernym Detail</text><rect fill="#ADD8E6" height="2026.2422" style="stroke: #A80036; stroke-width: 1.0;" width="639.5" x="4" y="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="227" x="210.25" y="46.3638">Credit Union domain of control</text><rect fill="#90EE90" height="2026.2422" style="stroke: #A80036; stroke-width: 1.0;" width="328.5" x="1160.5" y="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="1263.75" y="46.3638">Evernym Agency</text><rect fill="#FFFFFF" filter="url(#fwdbm9yn6o0pk)" height="210.3594" style="stroke: #000000; stroke-width: 2.0;" width="755.5" x="950" y="999.0703"/><rect fill="#FEFECE" filter="url(#fwdbm9yn6o0pk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="163" x="1318" y="1060.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="149" x="1325" y="1080.4639">Personal Cloud Agent</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="54" x2="54" y1="132.8906" y2="1957.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="300.5" x2="300.5" y1="132.8906" y2="1957.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="541.5" x2="541.5" y1="132.8906" y2="1957.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="782.5" x2="782.5" y1="132.8906" y2="1957.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="995" x2="995" y1="132.8906" y2="1957.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1221.5" x2="1221.5" y1="132.8906" y2="1957.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1401" x2="1401" y1="1093.1172" y2="1957.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1644.5" x2="1644.5" y1="132.8906" y2="1957.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1862" x2="1862" y1="132.8906" y2="1957.9453"/><rect fill="#FEFECE" filter="url(#fwdbm9yn6o0pk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="8" y="97.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="15" y="117.5889">Call Center</text><rect fill="#FEFECE" filter="url(#fwdbm9yn6o0pk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="8" y="1956.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="15" y="1976.9404">Call Center</text><rect fill="#FEFECE" filter="url(#fwdbm9yn6o0pk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="230.5" y="97.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="237.5" y="117.5889">CULedger.Identity</text><rect fill="#FEFECE" filter="url(#fwdbm9yn6o0pk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="230.5" y="1956.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="237.5" y="1976.9404">CULedger.Identity</text><rect fill="#FEFECE" filter="url(#fwdbm9yn6o0pk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="443.5" y="97.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="178" x="450.5" y="117.5889">Enterprise Backend (VCX)</text><rect fill="#FEFECE" filter="url(#fwdbm9yn6o0pk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="443.5" y="1956.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="178" x="450.5" y="1976.9404">Enterprise Backend (VCX)</text><rect fill="#FEFECE" filter="url(#fwdbm9yn6o0pk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="693.5" y="97.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="160" x="700.5" y="117.5889">Enterprise Cloud Agent</text><rect fill="#FEFECE" filter="url(#fwdbm9yn6o0pk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="693.5" y="1956.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="160" x="700.5" y="1976.9404">Enterprise Cloud Agent</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="960" y="129.5889">Branch.io</text><path d="M977.5,80.5938 C977.5,70.5938 995.5,70.5938 995.5,70.5938 C995.5,70.5938 1013.5,70.5938 1013.5,80.5938 L1013.5,106.5938 C1013.5,116.5938 995.5,116.5938 995.5,116.5938 C995.5,116.5938 977.5,116.5938 977.5,106.5938 L977.5,80.5938 " fill="#FEFECE" filter="url(#fwdbm9yn6o0pk)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M977.5,80.5938 C977.5,90.5938 995.5,90.5938 995.5,90.5938 C995.5,90.5938 1013.5,90.5938 1013.5,80.5938 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="960" y="1969.9404">Branch.io</text><path d="M977.5,1983.2422 C977.5,1973.2422 995.5,1973.2422 995.5,1973.2422 C995.5,1973.2422 1013.5,1973.2422 1013.5,1983.2422 L1013.5,2009.2422 C1013.5,2019.2422 995.5,2019.2422 995.5,2019.2422 C995.5,2019.2422 977.5,2019.2422 977.5,2009.2422 L977.5,1983.2422 " fill="#FEFECE" filter="url(#fwdbm9yn6o0pk)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M977.5,1983.2422 C977.5,1993.2422 995.5,1993.2422 995.5,1993.2422 C995.5,1993.2422 1013.5,1993.2422 1013.5,1983.2422 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#fwdbm9yn6o0pk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="1164.5" y="97.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="1171.5" y="117.5889">Agency Agent</text><rect fill="#FEFECE" filter="url(#fwdbm9yn6o0pk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="1164.5" y="1956.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="1171.5" y="1976.9404">Agency Agent</text><rect fill="#FEFECE" filter="url(#fwdbm9yn6o0pk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="163" x="1318" y="1956.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="149" x="1325" y="1976.9404">Personal Cloud Agent</text><rect fill="#FEFECE" filter="url(#fwdbm9yn6o0pk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="1593.5" y="97.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="1600.5" y="117.5889">Connect.Me</text><rect fill="#FEFECE" filter="url(#fwdbm9yn6o0pk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="1593.5" y="1956.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="1600.5" y="1976.9404">Connect.Me</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="1841" y="113.292">Joe &amp;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="1825" y="129.5889">his phone</text><ellipse cx="1862.5" cy="43.2969" fill="#FEFECE" filter="url(#fwdbm9yn6o0pk)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1862.5,51.2969 L1862.5,78.2969 M1849.5,59.2969 L1875.5,59.2969 M1862.5,78.2969 L1849.5,93.2969 M1862.5,78.2969 L1875.5,93.2969 " fill="none" filter="url(#fwdbm9yn6o0pk)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="1841" y="1969.9404">Joe &amp;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="1825" y="1986.2373">his phone</text><ellipse cx="1862.5" cy="1999.5391" fill="#FEFECE" filter="url(#fwdbm9yn6o0pk)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1862.5,2007.5391 L1862.5,2034.5391 M1849.5,2015.5391 L1875.5,2015.5391 M1862.5,2034.5391 L1849.5,2049.5391 M1862.5,2034.5391 L1875.5,2049.5391 " fill="none" filter="url(#fwdbm9yn6o0pk)" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M469,147.8906 L469,217.8906 L1716,217.8906 L1716,157.8906 L1706,147.8906 L469,147.8906 " fill="#FBFB77" filter="url(#fwdbm9yn6o0pk)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1706,147.8906 L1706,157.8906 L1716,157.8906 L1706,147.8906 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="792.5" y="164.9575">Assumptions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="511" x="792.5" y="180.0903">1. CU Enterprise Agent and Evernym Agency Agent have a pairwise relationship.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="587" x="792.5" y="195.2231">2. Connect.Me only reads links from https://connect.me.app.link which is hosted at branch.io</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="445" x="792.5" y="210.356">3. Branch.io is used to store the token and device specific information</text><polygon fill="#A80036" points="288.5,244.5547,298.5,248.5547,288.5,252.5547,292.5,248.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="54.5" x2="294.5" y1="248.5547" y2="248.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="61.5" y="243.4888">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="74.5" y="243.4888">/onboard(...)</text><polygon fill="#A80036" points="529.5,303.9531,539.5,307.9531,529.5,311.9531,533.5,307.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="300.5" x2="535.5" y1="307.9531" y2="307.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="307.5" y="287.7544">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="320.5" y="272.6216">Member has been created and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="320.5" y="287.7544">pairwise DID created for CU</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="320.5" y="302.8872">portion of pairwise relationship</text><polygon fill="#A80036" points="770.5,378.4844,780.5,382.4844,770.5,386.4844,774.5,382.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="541.5" x2="776.5" y1="382.4844" y2="382.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="548.5" y="354.7192">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="561.5" y="332.02">"Here is a new private-pairwise</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="561.5" y="347.1528">DID I'm using for a new</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="561.5" y="362.2856">connection invitation, and I</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="561.5" y="377.4185">want to send it via SMS."</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="782.5" x2="824.5" y1="487.2813" y2="487.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="824.5" x2="824.5" y1="487.2813" y2="500.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="783.5" x2="824.5" y1="500.2813" y2="500.2813"/><polygon fill="#A80036" points="793.5,496.2813,783.5,500.2813,793.5,504.2813,789.5,500.2813" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="789.5" y="444.3833">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="802.5" y="406.5513">Decides on new or existing</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="802.5" y="421.6841">endpoint for callback (when</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="802.5" y="436.8169">invite gets accepted, this is</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="802.5" y="451.9497">where the acceptor will go to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="802.5" y="467.0825">find the invitation info) &amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="802.5" y="482.2153">generates a callback url</text><polygon fill="#A80036" points="1209.5,585.9453,1219.5,589.9453,1209.5,593.9453,1213.5,589.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="782.5" x2="1215.5" y1="589.9453" y2="589.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="789.5" y="554.6138">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="802.5" y="524.3481">"Please store this callback url</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="802.5" y="539.481">for a new connection invitation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="802.5" y="554.6138">I want to send out, and pls give</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="802.5" y="569.7466">me a url to use in the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="802.5" y="584.8794">invitation"</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1221.5" x2="1263.5" y1="619.0781" y2="619.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1263.5" x2="1263.5" y1="619.0781" y2="632.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1222.5" x2="1263.5" y1="632.0781" y2="632.0781"/><polygon fill="#A80036" points="1232.5,628.0781,1222.5,632.0781,1232.5,636.0781,1228.5,632.0781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1228.5" y="614.0122">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="1241.5" y="614.0122">Generates tokenized url</text><polygon fill="#A80036" points="1006.5,672.3438,996.5,676.3438,1006.5,680.3438,1002.5,676.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1000.5" x2="1220.5" y1="676.3438" y2="676.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1012.5" y="663.7114">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="1025.5" y="656.145">Stores token and callback url</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="1025.5" y="671.2778">from CU</text><polygon fill="#A80036" points="1209.5,701.4766,1219.5,705.4766,1209.5,709.4766,1213.5,705.4766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="995.5" x2="1215.5" y1="705.4766" y2="705.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1002.5" y="700.4106">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="1015.5" y="700.4106">Returns success</text><polygon fill="#A80036" points="793.5,730.6094,783.5,734.6094,793.5,738.6094,789.5,734.6094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="787.5" x2="1220.5" y1="734.6094" y2="734.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="799.5" y="729.5435">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="812.5" y="729.5435">Passes tokenized url</text><polygon fill="#A80036" points="1850.5,805.1406,1860.5,809.1406,1850.5,813.1406,1854.5,809.1406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="782.5" x2="1856.5" y1="809.1406" y2="809.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="789.5" y="781.3755">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="811.5" y="758.6763">Sends SMS with tokenized url</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="811.5" y="773.8091">and other text "UFCU wants</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="811.5" y="788.9419">you to install this app to get</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="811.5" y="804.0747">your MyCUID!"</text><polygon fill="#A80036" points="1006.5,864.5391,996.5,868.5391,1006.5,872.5391,1002.5,868.5391" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1000.5" x2="1861.5" y1="868.5391" y2="868.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1012.5" y="848.3403">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="1034.5" y="833.2075">Joe's phone clicks link which</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="1034.5" y="848.3403">opens browser which navigates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="1034.5" y="863.4731">to branch.io, finds callbackurl</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="995.5" x2="1037.5" y1="912.8047" y2="912.8047"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1037.5" x2="1037.5" y1="912.8047" y2="925.8047"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="996.5" x2="1037.5" y1="925.8047" y2="925.8047"/><polygon fill="#A80036" points="1006.5,921.8047,996.5,925.8047,1006.5,929.8047,1002.5,925.8047" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1002.5" y="900.1724">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="1024.5" y="892.606">Associates token with Joe's</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="1024.5" y="907.7388">phone</text><polygon fill="#A80036" points="1850.5,950.9375,1860.5,954.9375,1850.5,958.9375,1854.5,954.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="995.5" x2="1856.5" y1="954.9375" y2="954.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1002.5" y="949.8716">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="1024.5" y="949.8716">Redirects browser to appstore</text><polygon fill="#A80036" points="1655.5,980.0703,1645.5,984.0703,1655.5,988.0703,1651.5,984.0703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1649.5" x2="1861.5" y1="984.0703" y2="984.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1661.5" y="979.0044">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="1683.5" y="979.0044">Installs &amp; launches app</text><path d="M950,999.0703 L1455,999.0703 L1455,1006.0703 L1445,1016.0703 L950,1016.0703 L950,999.0703 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="210.3594" style="stroke: #000000; stroke-width: 2.0;" width="755.5" x="950" y="999.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="460" x="965" y="1012.1372">These are default api calls each first-time app launch triggers</text><polygon fill="#A80036" points="1232.5,1048.4688,1222.5,1052.4688,1232.5,1056.4688,1228.5,1052.4688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1226.5" x2="1643.5" y1="1052.4688" y2="1052.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1238.5" y="1039.8364">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="1260.5" y="1032.27">App calls home and asks for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="1260.5" y="1047.4028">new cloud agent for Joe</text><polygon fill="#A80036" points="1306,1077.6016,1316,1081.6016,1306,1085.6016,1310,1081.6016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1221.5" x2="1312" y1="1081.6016" y2="1081.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1228.5" y="1076.5356">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="1250.5" y="1076.5356">Creates</text><rect fill="#FEFECE" filter="url(#fwdbm9yn6o0pk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="163" x="1318" y="1060.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="149" x="1325" y="1080.4639">Personal Cloud Agent</text><polygon fill="#A80036" points="1412.5,1138.0313,1402.5,1142.0313,1412.5,1146.0313,1408.5,1142.0313" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1632.5,1138.0313,1642.5,1142.0313,1632.5,1146.0313,1636.5,1142.0313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1406.5" x2="1638.5" y1="1142.0313" y2="1142.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1418.5" y="1129.3989">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="1440.5" y="1121.8325">Pairwise connection</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="1440.5" y="1136.9653">established</text><polygon fill="#A80036" points="1006.5,1197.4297,996.5,1201.4297,1006.5,1205.4297,1002.5,1201.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1000.5" x2="1643.5" y1="1201.4297" y2="1201.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1012.5" y="1181.231">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="1034.5" y="1166.0981">On first launch, app asks "I am</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="1034.5" y="1181.231">Joe's phone, do you have</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="1034.5" y="1196.3638">anything for me?"</text><polygon fill="#A80036" points="1632.5,1263.8281,1642.5,1267.8281,1632.5,1271.8281,1636.5,1267.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="995.5" x2="1638.5" y1="1267.8281" y2="1267.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1002.5" y="1247.6294">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="1024.5" y="1232.4966">Knows Joe's phone is</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="1024.5" y="1247.6294">associated with the token, so it</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="1024.5" y="1262.7622">passes callback url &amp; token</text><polygon fill="#A80036" points="793.5,1323.2266,783.5,1327.2266,793.5,1331.2266,789.5,1327.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="787.5" x2="1643.5" y1="1327.2266" y2="1327.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="799.5" y="1307.0278">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="821.5" y="1291.895">Hits callback url, says "here's</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="821.5" y="1307.0278">my token, what do you have</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="821.5" y="1322.1606">for me?"</text><polygon fill="#A80036" points="1632.5,1382.625,1642.5,1386.625,1632.5,1390.625,1636.5,1386.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="782.5" x2="1638.5" y1="1386.625" y2="1386.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="789.5" y="1366.4263">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="811.5" y="1351.2935">Passes unencrypted</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="811.5" y="1366.4263">connection invitation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="811.5" y="1381.5591">information in json</text><path d="M1167,1399.625 L1167,1530.625 L1635,1530.625 L1635,1409.625 L1625,1399.625 L1167,1399.625 " fill="#FBFB77" filter="url(#fwdbm9yn6o0pk)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1625,1399.625 L1625,1409.625 L1635,1409.625 L1625,1399.625 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="1173" y="1416.6919">Invite json looks like this</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1330" y="1416.6919">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="1189" y="1431.8247">for_did: DID,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="1189" y="1446.9575">for_verkey: VERKEY,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="431" x="1189" y="1462.0903">eagent_key: EAGENT_KEY, #enterprise agent public key for this DID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="394" x="1189" y="1477.2231">signature: SIG, # of the the above key signed by Organization</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="299" x="1189" y="1492.356">conn_name: NAME, # of the Connection Issuer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="267" x="1189" y="1507.4888">logo_url: LOGO, # Url of the Avatar Image</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1173" y="1522.6216">}</text><polygon fill="#A80036" points="1850.5,1556.8203,1860.5,1560.8203,1850.5,1564.8203,1854.5,1560.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1644.5" x2="1856.5" y1="1560.8203" y2="1560.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1651.5" y="1555.7544">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="1673.5" y="1555.7544">Displays invitation from CU</text><polygon fill="#A80036" points="1655.5,1585.9531,1645.5,1589.9531,1655.5,1593.9531,1651.5,1589.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1649.5" x2="1861.5" y1="1589.9531" y2="1589.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1661.5" y="1584.8872">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="1683.5" y="1584.8872">Accepts invite</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1644.5" x2="1686.5" y1="1649.3516" y2="1649.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1686.5" x2="1686.5" y1="1649.3516" y2="1662.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1645.5" x2="1686.5" y1="1662.3516" y2="1662.3516"/><polygon fill="#A80036" points="1655.5,1658.3516,1645.5,1662.3516,1655.5,1666.3516,1651.5,1662.3516" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1651.5" y="1629.1528">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="1673.5" y="1614.02">Generates Joe' side of the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="1673.5" y="1629.1528">pairwise relationship, stores</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="1673.5" y="1644.2856">both sides</text><polygon fill="#A80036" points="1412.5,1741.8828,1402.5,1745.8828,1412.5,1749.8828,1408.5,1745.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1406.5" x2="1643.5" y1="1745.8828" y2="1745.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1418.5" y="1725.6841">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="1440.5" y="1710.5513">Joe is accepting CU invite, here</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="1440.5" y="1725.6841">is his pairwise acceptance</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="1440.5" y="1740.8169">details</text><polygon fill="#A80036" points="793.5,1741.8828,783.5,1745.8828,793.5,1749.8828,789.5,1745.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="787.5" x2="1400.5" y1="1745.8828" y2="1745.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="799.5" y="1725.6841">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="825.5" y="1710.5513"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="821.5" y="1725.6841">Stores new relationship info &amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="821.5" y="1740.8169">Forwards</text><polygon fill="#A80036" points="552.5,1741.8828,542.5,1745.8828,552.5,1749.8828,548.5,1745.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="546.5" x2="781.5" y1="1745.8828" y2="1745.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="558.5" y="1725.6841">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="584.5" y="1710.5513"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="580.5" y="1725.6841">Stores new relationship info &amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="580.5" y="1740.8169">Forwards</text><polygon fill="#A80036" points="311.5,1793.1484,301.5,1797.1484,311.5,1801.1484,307.5,1797.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="305.5" x2="540.5" y1="1797.1484" y2="1797.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="317.5" y="1784.5161">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="339.5" y="1776.9497">Stores Member's pairwise DID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="339.5" y="1792.0825">pairwise info, etc.</text><polygon fill="#A80036" points="65.5,1837.4141,55.5,1841.4141,65.5,1845.4141,61.5,1841.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="59.5" x2="299.5" y1="1841.4141" y2="1841.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="71.5" y="1828.7817">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="93.5" y="1821.2153">notifies CCA that Member is</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="93.5" y="1836.3481">Onboarded (i.e. has Credential)</text><ellipse cx="541" cy="1900.0625" fill="none" rx="4" ry="4" style="stroke: #008000; stroke-width: 1.5;"/><polygon fill="#008000" points="558,1896.8125,548,1900.8125,558,1904.8125,554,1900.8125" style="stroke: #008000; stroke-width: 1.0;"/><ellipse cx="1644" cy="1900.0625" fill="none" rx="4" ry="4" style="stroke: #008000; stroke-width: 1.5;"/><polygon fill="#008000" points="1627,1896.8125,1637,1900.8125,1627,1904.8125,1631,1900.8125" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="556" x2="1633" y1="1900.8125" y2="1900.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="558.5" y="1880.6138">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="580.5" y="1865.481">Pairwise unique relationship</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="580.5" y="1880.6138">established based on Sovrin</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="580.5" y="1895.7466">DIDs</text><path d="M476,1913.8125 L476,1938.8125 L1927,1938.8125 L1927,1923.8125 L1917,1913.8125 L476,1913.8125 " fill="#FBFB77" filter="url(#fwdbm9yn6o0pk)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1917,1913.8125 L1917,1923.8125 L1927,1923.8125 L1917,1913.8125 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="432" x="979.25" y="1930.8794">&lt;bold&gt;Joe has a pairwise relationship with his Credit Union!&lt;/bold&gt;</text><!--
@startuml
skinparam maxmessagesize 200
box "Credit Union domain of control" #lightblue
participant "Call Center" as cca
participant "CULedger.Identity" as cuid
participant "Enterprise Backend (VCX)" as cu
end box

participant "Enterprise Cloud Agent" as cuag
database "Branch.io" as bra
box "Evernym Agency" #lightgreen
participant "Agency Agent" as agag
participant "Personal Cloud Agent" as conag
end box
participant "Connect.Me" as con
actor "Joe &\nhis phone" as joe


title MSR Invites Member to connect via CULedger.Identity - Evernym Detail

note over cu, con
Assumptions
1. CU Enterprise Agent and Evernym Agency Agent have a pairwise relationship.
2. Connect.Me only reads links from https://connect.me.app.link which is hosted at branch.io
3. Branch.io is used to store the token and device specific information
end note
autonumber
cca -> cuid: /onboard(...)
cuid -> cu: Member has been created and pairwise DID created for CU portion of pairwise relationship
cu -> cuag: "Here is a new private-pairwise DID I'm using for a new connection invitation, and I want to send it via SMS."
cuag -> cuag: Decides on new or existing endpoint for callback (when invite gets accepted, this is where the acceptor will go to find the invitation info) & generates a callback url
cuag -> agag: "Please store this callback url for a new connection invitation I want to send out, and pls give me a url to use in the invitation"
agag -> agag: Generates tokenized url
agag -> bra: Stores token and callback url from CU
bra -> agag: Returns success
agag -> cuag: Passes tokenized url
cuag -> joe: Sends SMS with tokenized url and other text "UFCU wants you to install this app to get your MyCUID!"
joe -> bra: Joe's phone clicks link which opens browser which navigates to branch.io, finds callbackurl
bra -> bra: Associates token with Joe's phone
bra -> joe: Redirects browser to appstore
joe -> con: Installs & launches app
group These are default api calls each first-time app launch triggers
con -> agag: App calls home and asks for new cloud agent for Joe
create conag
agag -> conag: Creates
conag <- -> con: Pairwise connection established
con -> bra: On first launch, app asks "I am Joe's phone, do you have anything for me?"
end
bra -> con: Knows Joe's phone is associated with the token, so it passes callback url & token
con -> cuag: Hits callback url, says "here's my token, what do you have for me?"
cuag -> con: Passes unencrypted connection invitation information in json
note left of con
<color:blue>Invite json looks like this</color> {
    for_did: DID,
    for_verkey: VERKEY,
    eagent_key: EAGENT_KEY, #enterprise agent public key for this DID
    signature: SIG, # of the the above key signed by Organization
    conn_name: NAME, # of the Connection Issuer
    logo_url: LOGO, # Url of the Avatar Image
}
end note
con -> joe: Displays invitation from CU
joe -> con: Accepts invite
con -> con: Generates Joe' side of the pairwise relationship, stores both sides
par2
con -> conag: Joe is accepting CU invite, here is his pairwise acceptance details
else
conag -> cuag: \nStores new relationship info & Forwards
else
cuag -> cu: \nStores new relationship info & Forwards
end
cu -> cuid: Stores Member's pairwise DID pairwise info, etc.
cuid -> cca: notifies CCA that Member is Onboarded (i.e. has Credential)

skinparam arrowsize 10
cu o<-[#green]>o con: Pairwise unique relationship established based on Sovrin DIDs
note over cu, joe 
<bold>Joe has a pairwise relationship with his Credit Union!</bold>
end note
@enduml

PlantUML version 1.2018.12(Sun Oct 21 10:15:15 UTC 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>